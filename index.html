    <!DOCTYPE html>
            <html lang="en">
            <head>
                <title>RPG IDLE OF DOOM</title>
                <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
                <meta charset="UTF-8"/>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
                <script src="gamelib.js"></script>
                <script src="game.js"></script>
                <!-- Global Site Tag (gtag.js) - Google Analytics -->
                <script async src="https://www.googletagmanager.com/gtag/js?id=GA_TRACKING_ID"></script>
                <script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());
                    gtag('config', 'UA-115635325-1');
                </script>
                <meta name = "Author" content = "Tom Do"/>
                <link rel="stylesheet" href="styles.css">
                <style type="text/css">
                </style>
            </head>
            <body onbeforeunload="//savegame()">
            <input type = "text" name = "Name" size = "20" id ="namegetter2" placeholder="Enter Name:" onKeyDown="if(event.keyCode === 13) {game()}"><br/>
            <div id = "everything" style = "display: none">
            <div class = "Main_Entity_Holder">
                <button class = "class1" onclick = "$('#playerpanel').toggle();toggleplusminus(this)" style = "width:100%;">Your Description -</button>
                <br>
                <div id ="playerpanel">
                    <header id = "Playername" class = "Playername"></header><br>
                    <div id = "Player" style = "width:43%;height:43%;float:left;"><img class = "Entity" id = "Playerpic" style = "height:100%;width:100%" src="player.png"/></div>
                    <div id = "Pstats" class = "Pstats"></div>
                    <div id = "Pdescription" style = "width:100%;margin-bottom:1%;margin-top:44%">
                        You are currently the most generic object the common man can imagine, a sphere
                    with a constant gradient from opposite shades, you don't even get the privilege of a legitimate color. generic color, generic shape.
                    You are NOT special yet...
                    </div>
                    <div id = "plevel" style = "margin-bottom:2%;"></div>
                    <div id = "phealth" class = "Healthbar" style = margin-bottom:2%;><div id = "phealthtrack" class = "Healthtrack"></div></div>
                    <div id = "pmana" class = "Manabar" style = margin-bottom:2%;display:none><div id = "pmanatrack" class = "Manatrack"></div></div>
                    <div id = "pxp" ></div>
                </div>
                <button class = "class1" onclick = "$('#enemypanel').toggle();toggleplusminus(this)" style = "position:absolute;width:100%;">Enemy Description -</button>
                <br>
                <div id = "enemypanel" style = "width:140%;height:50%;">
                    <div id = "Enemy" style = "width:100%;margin-top: 1%;height:100%;"></div>
                    <div id = "Enemytooltip" style = "margin-top:1%;float:right;" class = "tooltip Enemy">
                    </div><br>
                </div>
            </div>
            <div style="width:40%;position:absolute;top:1.3%">
                <div style = "width:70%;float:left;" id = "theres">
                    <div id = "Bronze" style = "float:left;width:60%"></div><div id = "bps" style = "float:left"></div><br>
                    <div id = "Silver" style = "float:left;width:60%"></div><div id = "sps" style = "float:left"></div><br>
                    <div id = "Gold" style = "float:left;width:60%"></div><div id = "gps" style = "float:left"></div><br>
                </div>
            </div>
            <br>
            <br>
            <br>
            <div id = "portal1" class = "portal1"></div>
            <br>
            <button class = "class1" style = "width:12%" onclick = "$('#buildings1').toggle();toggleplusminus(this)">Buildings -</button>
            <div style = "margin-bottom: 2%">
                <div id = "buildings1" class = "buildings" style = "width:25%;float:left;"></div>
                <div id = "buildtooltip" class = "tooltip buildings"></div>
            </div>
            <br>
            <div style = "position:absolute;right:0.6%;">
            <button id = "buildselect" class = "class1 buildselect" onclick = "$('#buildselection').toggle();">Select Building to Use</button>
            <div id = "buildselection">You have no non-portal buildings yet</div>
            </div><br><br>
            <div id = "buildingfuncs" style = "position:absolute;right:0.6%;width:25%;">
                <div id = "MercenaryGuild" style = "display:none;">
                    <button id = "togmerc" onclick = "$('#merc1').toggle();toggleplusminus(this);buildingselection();" class = "class1" style = "float:right;width:70%;">Mercenary Guild -</button>
                    <div id = "merc1" style = "width:80%;float:right;">
                        <div id = "merc" style = "float:right;"></div>
                        <div id = "unittooltip" class = "tooltip units"></div>
                    </div>
                </div>
                <div id = "Blacksmith" style = "display:none;">
                    <button id = "Blacksmithbut" style = "float:right;width:60%" class = "class1" onclick = "$('#Blacksmithshop').toggle();toggleplusminus(this)">Blacksmith -</button>
                    <div style = "height:12vh;float:right;width:100%;">
                        <div id = "Blacksmithshop" style = "float:right;height:100%;width:100%;"></div>
                    </div>
                </div>
                <div id = "SpellShop" style = "display:none;">
                    <button id = "Spellshopbut" style = "float:right;width:60%" class = "class1" onclick = "$('#Spellshopshop').toggle();toggleplusminus(this)">Spell Shop -</button>
                    <div id = "Spellshopshop" style = "height:11vh;float:right;width:100%;"></div>
                    <div id = "sptooltip" class = "tooltip spellshop"></div>
                </div>
                <div id = "Bank" class = "Bank">
                </div>
            </div>
                <br><br><br><br><br><br>
                <div style = "float:right;margin-top: 8%;">
                    <button class = "class1" id = "Alliesbut" style = "float:right;display:none;" onclick = "$('#allies1').toggle();toggleplusminus(this);$('#allyinfobut').toggle()">Allies -</button>
                    <div id = "allies1" style = "margin-top:20%;display:none;">
                        <ul id = "allies" class = "allies" style = "float:right;">
                        </ul>
                    </div>
                    <button class = "class1" style = "float:right;margin-top:13%;display:none;" id = "allyinfobut" onclick = "$('#allyinfo').toggle()">Info</button>
                    <div id = "Date" class = "DATE">
                        <script>
                            let startdate = new Date();
                            function dateset() {
                                let date = new Date();
                                let duration = Math.floor((date.getTime() - startdate.getTime()) /1000);
                                let seconds = duration % 60;
                                let theh = ' h ';
                                let theM = ' m ';
                                let minutes = Math.floor(duration / 60) % 60; if (minutes === 0) {minutes = '';theM = ''}
                                let hours = Math.floor(duration / 3600); if (hours === 0) {hours = '';theh = ''}
                                $('#Date')[0].innerHTML = hours + theh + minutes + theM + seconds + " s (session time)";
                                setTimeout(dateset,100);
                            }
                            dateset();

                            function autosave() {
                                savegame();
                                setTimeout(autosave,20000);
                            }

                            loadgame();
                            autosave();

                        </script>
                    </div>
                </div>
            <div id = "Inventorytab" style = "display:none">
            <button id = "Inventorybut" class = "class1" onclick = "$('#inventory').toggle();toggleplusminus(this)">Inventory -</button>
            <div style = "height:11vh;">
                <div id = "inventory" style = "float:top;height:100%;width:35%;"></div>
                <div id = "invtooltip" class = "tooltip inventory">
                    <button id = "invsell" style = "display:none;"></button>
                </div>
            </div>
            </div><br>
            <button id = "THEBUTTON" class = "THEBUTTON" onclick = "if (isdead === false && reducecheatclick === false) {
            fight(setattack, levelenemies[dungeon.val - 1], dungeon.val - 1, allies);
            reducecheatclick = !reducecheatclick;
            autofightenabled = !autofightenabled;
            setTimeout(function() {reducecheatclick = !reducecheatclick;},40);
            setTimeout(function() {autofightenabled = !autofightenabled},1000);
            }">FIGHT</button>
            <div id = "Upgrades" class = "Upgrades"></div>
            <div id = "Events" class = ""></div>
            <br>
            <button id = "changelog" class = "class1" onclick = $('#thechangelog').toggle()>Change Log</button>
            <div>
                <button id = "optionsbut" class = "class1" onclick = "$('#options').toggle();">Options</button>
                <div id = "options" class = "Options">
                    <div style = "position:absolute;top:20%;left:1.5%">
                    <i>The game autosaves every 20 seconds... and every time the window is closed or refreshed!</i><br>
                    <!---<button id = "exportsave" onclick = "exportsave()" class = "Options">Export Save</button><br><br>
                    <button id = "importsave" onclick = "$('#importthesave').toggle();" class = "Options">Import Save</button><br>-->
                    <div id = "importthesave" style = "display:none;position:absolute;float:left;">
                        <textarea id = "entersave" placeholder= "Enter the text in the txt file of your exported save file here and then press
            submit to load the save:" rows = "5" cols = "40"></textarea>
                        <button onclick = "importsave($('#entersave').val());$('#importthesave').toggle();" class = "class1">Submit</button>
                    </div><br>
                    <button onclick = "toggleonoff(this);wobbleon = !wobbleon" class = "Options">Animations ON</button><br><br>
                    <button onclick = "toggleonoff(this);scidig = !scidig;playerbronze.val -= 0;playersilver.val -= 0;playergold.val -= 0" class = "Options">Short Numbers ON</button>
                    </div>
                </div>
                <div id = "Abilitytab" style = "float:left;width:20%;height:20%;margin-left: 15.5%;display:none">
                    <button id = "abilitiesbut" class = "class1" style = "position:absolute;float:top" onclick = "$('#Abilities').toggle();toggleplusminus(this)">Abilities -</button>
                    <div id = "Abilities" class = "Abilities"></div>
                </div>
                <div id = "thechangelog" class = "Options">
                    <div style = "position:absolute;top:0;left:1.5%;height:100%;overflow:auto">
                        <h2 style = "font-family: 'tight pixel',serif"><b>The dates are in Day/Month/Year format... Sorry USA XD</b></h2>
                        <ul>
                            <li>16/04/2018 - Textures added for enemies in dungeons 19-20</li>
                            <li>9/04/2018 - Textures added for enemies in dungeons 15-18</li>
                            <li>3/04/2018 - Ninjas now have Stealth ability, bugs to do with traps are fixed</li>
                            <li>2/04/2018 - 5 new dungeons, Chaotic flesh now has Replication ability, DOTS disappear when you die now.</li>
                            <li>30/03/2018 - New Idle Revenue and Arcane Trap Upgrades added.</li>
                            <li>28/03/2018 - Added a Short Number function. Short numbers are now default.</li>
                            <li>26/03/2018 - Text no longer highlightable, Sliders repositioned. All to prevent bugs.</li>
                            <li>26/03/2018 - Added special ability keywords on enemy tooltips. Blue Imps now have Retaliation ability, which means
                                they automatically deal damage to attacker proportional to damage dealt by attackers. Non-elemental witches now have
                                armor pierce which bypasses armor.</li>
                            <li>24/03/2018 - Boss in dungeon 15 actually goes intangible now... be careful</li>
                            <li>23/03/2018 - Added 5 more dungeons, introducing enemies that can spawn other enemies.
                                Introduced enemies that have high regen rate. Reanimated corpses now have a higher regen rate </li>
                            <li>23/03/2018 - Removed bug where multiple countdowns appear when you die</li>
                            <li>22/03/2018 - Added Flavor text for enemies</li>
                            <li>21/03/2018 - 5 more upgrades added. Upgrades art changed to pixel for consistency</li>
                            <li>20/03/2018 - Flame and AOE damage added, Flame witches now damage all allies and you at the same time whilst applying a stacking DOT</li>
                            <li>20/03/2018 - Firefox inventory tooltip bug fixed.</li>
                            <li>19/03/2018 - Lifesteal added, Murderer Reavers do life steal. status debuffed are applied to allies now</li>
                            <li>18/03/2018 - remove trap and basic arcane trap are now unlocked at level 6 not level 4</li>
                            <li>18/03/2018 - art for dungeons 8 - 10 added</li>
                            <li>18/03/2018 - Poison added, Poisonous Snakes now actually poison you. Mana increases as you level up</li>
                            <li>17/03/2018 - Level cap raised to 10, buildings now max out at 1, new spells (Basic Arcane Trap and Remove Trap)</li>
                            <li>17/03/2018 - art for dungeon 6 and 7 added, autofight feature implemented for dungeons higher than 5</li>
                            <li>16/03/2018 -  Mana added, spells added (Normal Fireball and Normal Frost)</li>
                        </ul>
                    </div>
                </div>
                <div id = "eventinfo" class = "Options">
                    <div id = "theactualinfo" style = "position:absolute;top:20%;left:1.5%">
                    </div>
                    <button class = "Options" onclick = "$('#eventinfo').hide();">close</button>
                </div>
            </div>
            <div id = "Market" class = ""></div>
            <div>
                <div style = "float: left;width:15%;">
                    <button class = "class1" onclick = "$('#Msg').toggle();toggleplusminus(this)">Message Log -</button>
                    <ul id = "Msg" class = "Msg">
                        <li><br></li>
                        <li><br></li>
                        <li><br></li> <!-- <br> is to force he screen to have a scroll on the side when it logs on -->
                        <li><br></li>
                        <li><br></li>
                        <li><br></li>
                        <li><br></li>
                        <li><br></li>
                        <li><br></li>
                        <li><br></li>
                    </ul>
                </div>
            </div>
            <div id = "allyinfo" style = "display:none;border: solid red;width:40%;bottom:10%;right:20%;position:absolute;background:black">
                Number of Idle units are on the right, number of active units are on the left. Active units help in battle, Idle units passively
                hunt for resources. Enemies will <i>in general</i> target your units before they target you. You will at least early on
                use your units as meatshields. They are viable for beating higher level enemies. Especially bosses. <br><br>

                Sometimes bringing a large amount of units with you can help your damage output substantially, sometimes even obliterating
                the enemy before they can react and damage you, resulting in the typical Idle Game scenario of clicking without any consequences
                as you take no damage.<br><br>
                <button class = "class1" onclick = "$('#allyinfo').toggle();">close</button>
            </div>
            </div>
            </body>
            </html>


